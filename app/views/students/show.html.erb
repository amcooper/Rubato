<div class="d-flex" data-controller="student-page">
  <div class="side-navbar d-flex flex-column">
    <div class="d-flex flex-column">
      <div class="d-flex flex-column justify-content-center text-center pt-4 pb-4">
        <div class="pb-4">
          <%= cl_image_tag @student.avatar.key,
          class: "avatar-xl", crop: :lfill, height: 500, width: 500, gravity: :face %>
        </div>
        <h2><%= @student.first_name %> <%= @student.last_name %></h2>
        <div class="skill-level-badge">
          <%= @student.skill_level %>
        </div>
      </div>
      <div class="d-flex justify-content-around" id="song-lesson-nav">
        <h4 data-target="student-page.songs" data-action="click->student-page#selectSongs" class="selected-item">
          Songs
        </h4>
        <h4 data-target="student-page.lessons" data-action="click->student-page#selectLessons">
          Lessons
        </h4>
      </div>
    </div>

    <div id="sidebar-songs" data-target="student-page.songsContent">
      <div class="d-flex justify-content-around py-4 px-4">
        <i class="fas fa-compact-disc"></i>
        <i class="far fa-edit"></i>
        <i class="far fa-clone"></i>
        <i class="far fa-trash-alt"></i>
      </div>

      <% unless @student_songs == [] %>
        <div class="d-flex flex-column text-center m-3 pt-3" id="song-list">
          <% puts @student_songs %>

            <% @student_songs.each do |song| %>
              <div class="pb-3">
                <%= link_to "#{song.name}", song, method: :get, remote: true %>
              </div>
            <% end %>
        </div>
        <% end %>
    </div>

    <div id="sidebar-lessons" data-target="student-page.lessonsContent" style="display:none">
      <div class="text-center py-4">
        <%= link_to "Add Lesson", new_lesson_path, class: "btn-camel" %>
      </div>
    </div>

  </div>

  <div class="right-side-container d-flex flex-column">

    <div class= "" id="right-side-container-songs" data-target="student-page.SongRightSide">
      <h1><%= @student_song.song.name %></h1>
        <% @lyrics.each do |lyric| %>
          <li><%= lyric.text %></li>
        <% end %>
    </div>

    <div id="right-side-container-lessons" data-target="student-page.allLessonsRightSide" style="display:none">
      <% @lessons.each do |lesson| %>
        <div class="d-flex flex-column lesson-card-student-page">
          <div class="d-flex">
            <%= lesson.date.strftime("%B %d") %>
            <%= lesson.start_time.strftime("%H:%M %P") %> - <%= (lesson.start_time + lesson.duration*60).strftime("%H:%M %P") %>
            <i class="far fa-edit"></i>
            <i class="far fa-trash-alt"></i>
          </div>
          <div>
            <%= lesson.note %>
          </div>
        </div>
      <% end %>
    </div>

  </div>
</div>















